{% extends "./base.njk" %}

{% set stylesPath = page.inputPath | getStylesPath %}
{% set scriptPath = page.inputPath | getScriptPath %}

{# Remove standard template blocks for examples #}
{% block skipLink %}{% endblock %}
{% block bodyStart %} {% endblock %}
{% block header %}{% endblock %}
{% block footer %}{% endblock %}

{% block head %}
  <link href="{{ 'stylesheets/govuk-frontend.min.css' | rev | url }}" rel="stylesheet">
  <link href="{{ 'stylesheets/moj-frontend.min.css' | rev | url }}" rel="stylesheet">

  <style>{% include stylesPath ignore missing %}</style>
{% endblock %}

{% block main %}
  <div class="app-example__wrapper govuk-!-margin-6">{{ content | safe }}</div>
{% endblock %}

{% block bodyEnd %}
  <script type="module" src="{{ 'javascripts/jquery.min.js' | rev | url }}"></script>
  <script type="module" src="{{ 'javascripts/govuk-frontend.min.js' | rev | url }}"></script>
  <script type="module" src="{{ 'javascripts/moj-frontend.min.js' | rev | url }}"></script>

  <script type="module">
    import * as GOVUKFrontend from '{{ 'javascripts/govuk-frontend.min.js' | rev | url }}'

    window.$ = $
    window.GOVUKFrontend = GOVUKFrontend
    window.GOVUKFrontend.initAll()
    window.MOJFrontend.initAll()
  </script>

  <script type="module">{% include scriptPath ignore missing %}</script>
{% endblock %}
