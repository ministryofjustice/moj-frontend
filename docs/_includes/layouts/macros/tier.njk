{% macro tierLabel(tier, tierMessage, tierInfo) %}
  {% if tier %}
    {% set tierData = tierInfo[tier] or {} %}

    {% set tierClass = {
      "Reviewed": "govuk-tag--green",
      "Due for review": "govuk-tag--orange",
      "Community component": "govuk-tag--light-blue",
      "Archived": "govuk-tag--grey"
    }[tier] or "" %}

    {% set tierDefaultMessage = tierData.content or "" %}
    {% set tierDefaultLink = tierData.link or "" %}

    <div class="app-tier">
      <p class="govuk-phase-banner__content govuk-!-margin-bottom-0">
        <span class="govuk-tag govuk-phase-banner__content__tag {{ tierClass }}">
          {{ tier }}
        </span>
        
        {% if tierInfo %}
          <span class="govuk-phase-banner__text">
            {{ tierMessage }}
            {% if tierDefaultLink %}
              <a class="govuk-link" href="{{ tierDefaultLink }}">
                {{tierDefaultMessage}}
              </a>.
            {% endif %}
          </span>
        {% endif %}
      </p>
    </div>
  {% endif %}
{% endmacro %}