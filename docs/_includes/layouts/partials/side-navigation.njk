{% set buildingPages = collections.all | eleventyNavigation("Building blocks") %}
{% set usingPages = collections.all | eleventyNavigation("Using the design system") %}
{% from "./../macros/nav-list-item.njk" import verticalNavListItem %}

<moj-collapsible-nav open-class="app-vertical-nav__item--open">
<nav class="app-vertical-nav" aria-labelledby="building-nav-title">
    <h2 class="app-vertical-nav__header" id="building-nav-title">Building Blocks</h2>
    <ul class="app-vertical-nav__list">
        {%- for entry in buildingPages %}
            {{ verticalNavListItem({
                item: entry, 
                sortChildrenBy: "key", 
                page: page, parent: 
                eleventyNavigation.parent
            }) }}
        {%- endfor -%}
    </ul>
</nav>
</moj-collapsible-nav>


<nav class="app-vertical-nav" aria-labelledby="using-nav-title">
    <h2 class="app-vertical-nav__header" id="using-nav-title">Using the design system</h2>
    <ul class="app-vertical-nav__list">
        {%- for entry in usingPages %}
            {{ verticalNavListItem({
                item: entry, 
                page: page, 
                parent: eleventyNavigation.parent
            }) }}
        {%- endfor -%}
    </ul>
</nav>

